
{%blocktitle%}ScalIoT|Listadereas

{%blockbody%}
<divclass="cardshadow-smrounded-3my-4">
<divclass="rowjustify-content-center">
<divclass="col-md-10text-centermt-3">
<h3class="fw-bold">锔Listadereas</h3>
<hr/>
</div>

<!--FormularioCrearrea-->
<divclass="col-md-10"id="formCrear">
<formaction="{{url_for('crearArea')}}"method="POST"class="rowg-3">
<divclass="col-md-6">
<labelclass="form-labelfw-semibold">Nombredelrea</label>
<inputtype="text"name="nombre_area"class="form-control"placeholder="Ej.Evaluaci贸n"required/>
</div>
<divclass="col-md-6">
<labelclass="form-labelfw-semibold">Descripci贸n</label>
<textareaname="descripcion"class="form-control"rows="3"placeholder="Describeel谩rea"required></textarea>
</div>
<divclass="col-12text-end">
<buttontype="submit"class="btnbtn-primarybtn-sm">Crearrea</button>
</div>
</form>
</div>

<!--FormularioActualizarrea-->
<divclass="col-md-10"id="formActualizar"style="display:none;">
<formaction="{{url_for('updateArea')}}"method="POST"class="rowg-3">
<divclass="col-md-6">
<labelclass="form-labelfw-semibold">ActualizarNombre</label>
<inputclass="form-control"name="nombre_area"id="inputArea"required/>
</div>
<divclass="col-md-6">
<labelclass="form-labelfw-semibold">ActualizarDescripci贸n</label>
<textareaclass="form-control"name="descripcion"id="inputDescripcion"rows="3"required></textarea>
</div>
<inputtype="hidden"name="id_area"id="inputId"/>
<divclass="col-12text-end">
<buttontype="submit"class="btnbtn-successbtn-sm">GuardarCambios</button>
<buttontype="button"class="btnbtn-secondarybtn-sm"onclick="toggleFormVisibility()">Cancelar</button>
</div>
</form>
</div>

<!--Tabladereas-->
<divclass="col-md-10mt-4">
<divclass="table-responsive">
<tableid="tbl_areas"class="tabletable-smtable-borderedalign-middletext-center">
<theadclass="table-darktext-white">
<tr>
<th>ID</th>
<th>Nombre</th>
<th>Descripci贸n</th>
<th>Acciones</th>
</tr>
</thead>
<tbody>
{%forareainareas%}
<tr>
<td>{{area.id_area}}</td>
<td>{{area.nombre_area}}</td>
<td>{{area.descripcion}}</td>
<td>
<aonclick="editar('{{area.nombre_area}}','{{area.id_area}}',`{{area.descripcion|escape}}`)"class="btnbtn-successbtn-smme-1"title="Actualizar">
<iclass="bibi-arrow-clockwise"></i>Actualizar
</a>
<ahref="{{url_for('borrarArea',id_area=area.id_area)}}"class="btnbtn-dangerbtn-sm"title="Eliminar">
<iclass="bibi-trash3"></i>Eliminar
</a>
</td>
</tr>
{%endfor%}
</tbody>
</table>
</div>
</div>
</div>
</div>




functiontoggleFormVisibility(){
constcrear=document.getElementById('formCrear');
constactualizar=document.getElementById('formActualizar');
actualizar.style.display=actualizar.style.display==='none'?'block':'none';
crear.style.display=crear.style.display==='none'?'block':'none';
}

functioneditar(nombre,id,descripcion){
document.getElementById('inputArea').value=nombre;
document.getElementById('inputDescripcion').value=descripcion;
document.getElementById('inputId').value=id;
document.getElementById('formActualizar').style.display='block';
document.getElementById('formCrear').style.display='none';
document.getElementById('formActualizar').scrollIntoView({behavior:'smooth'});
}
</script>

